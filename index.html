<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Covid19 Data Visualization</title>
    <link rel="stylesheet" href="covid19-styles.css">
</head>
<body>
    <div class="scene" id="intro">
        <h1>Covid19 Narrative Visualization</h1>
        <p>Welcome to the Covid19 Narrative Visualization. This visualization is divided into four scenes:</p>
        <p><strong>Scene 1:</strong> Visualizes new and cumulative COVID-19 cases over time. Users can toggle between new cases, cumulative cases, or both, and switch the y-axis between linear and logarithmic scales.</p>
        <p><strong>Scene 2:</strong> Focuses on new and cumulative COVID-19 deaths. Users can view new deaths, cumulative deaths, or both, with the option to switch the y-axis between linear and logarithmic scales.</p>
        <p><strong>Scene 3:</strong> Provides a state-wise comparison of COVID-19 cases and deaths over time. Users can use a slider to view specific dates and toggle between cases and deaths to see the most affected states.</p>
        <p><strong>Scene 4:</strong> Allows users to visualize the evolution of COVID-19 cases, deaths, and cumulative vaccinations nationwide or by state, highlighting key events like the start of vaccinations. Users can switch between cases and deaths data.</p>
        <button class="start-button" onclick="navigateToScenes()">Start Visualization</button>
    </div>

    <div class="scene" id="scene1">
        <div class="nav-buttons">
            <button class="nav-button previous" onclick="navigate(-1)">Previous</button>
            <button class="nav-button next" onclick="navigate(1)">Next</button>
        </div>
        <div class="button-group">
            <button id="new-cases-btn" data-type="covid_cases">New Cases</button>
            <button id="cumulative-cases-btn" data-type="cum_covid_cases">Cumulative Cases</button>
            <button id="both-btn" data-type="both">Both</button>
            <button id="switch-y-axis">Switch Y-Axis</button>
        </div>
        <div id="visualization1"></div>
    </div>

    <div class="scene" id="scene2">
        <div class="nav-buttons">
            <button class="nav-button previous" onclick="navigate(-1)">Previous</button>
            <button class="nav-button next" onclick="navigate(1)">Next</button>
        </div>
        <div class="button-group">
            <button id="new-deaths-btn" data-type="covid_deaths">New Deaths</button>
            <button id="cumulative-deaths-btn" data-type="cum_covid_deaths">Cumulative Deaths</button>
            <button id="both-deaths-btn" data-type="both">Both</button>
            <button id="switch-y-axis-deaths">Switch Y-Axis</button>
        </div>
        <div id="visualization2"></div>
    </div>

    <div class="scene" id="scene3">
        <div class="nav-buttons">
            <button class="nav-button previous" onclick="navigate(-1)">Previous</button>
            <button class="nav-button next" onclick="navigate(1)">Next</button>
        </div>
        <div class="button-group">
            <button id="cases-btn" class="cases active" data-type="cases">Cases</button>
            <button id="deaths-btn" class="deaths" data-type="deaths">Deaths</button>
        </div>
        <div class="slider-container">
            <input type="range" id="time-slider" min="0" max="160" step="1">
            <div id="slider-label" class="slider-label">Date: </div>
            <div class="slider-labels"></div>
        </div>
        <div class="chart-container">
            <div id="chart" class="chart"></div>
        </div>
    </div>

    <div class="scene" id="scene4">
        <div class="nav-buttons">
            <button class="nav-button previous" onclick="navigate(-1)">Previous</button>
            <button class="nav-button next" onclick="navigate(1)">Next</button>
        </div>
        <div class="button-group">
            <button id="cases-btn" class="cases" data-type="cases">Cases</button>
            <button id="deaths-btn" class="deaths" data-type="deaths">Deaths</button>
        </div>
        <div class="select-group">
            <select id="region-select">
                <option value="nation">Nation</option>
                <option value="state">State</option>
            </select>
            <select id="state-select" style="display:none;">
                <!-- State options will be populated dynamically -->
            </select>
        </div>
        <div id="visualization"></div>
    </div>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="covid19-script.js"></script>
</body>
</html>
